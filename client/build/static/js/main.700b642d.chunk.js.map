{"version":3,"sources":["pages/Posts/style.module.scss","images/user.jpg","pages/SinglePost/style.module.scss","pages/PersonalPage/style.module.scss","hooks/message.hook.js","context/AuthContext.js","pages/CreatePage/index.js","pages/AuthPage/index.js","pages/Posts/index.js","pages/PersonalPage/index.js","pages/SinglePost/index.js","components/Navbar.js","components/Footer.js","App.js","hooks/auth.hook.js","hooks/theme.hook.js","routes.js","serviceWorker.js","index.js","images/criss-cross.png","config/default.js"],"names":["module","exports","useMessage","useCallback","text","window","M","toast","html","noop","AuthContext","createContext","token","userId","login","logout","isAuthenticated","CreatePage","history","useHistory","auth","useContext","message","useState","setError","data","setData","checkAll","setCheckAll","useEffect","userData","JSON","parse","localStorage","getItem","a","fetch","config","baseUrl","method","headers","authorization","response","json","users","console","log","fetchAPI","deleteHandler","deletedUsersList","id","body","stringify","newData","filter","element","includes","onBlockHandler","idsArray","status","myId","map","ids","push","checkboxBlockUsers","checked","className","onClick","href","onChange","elementIndex","type","index","d","Date","last","datestring","getDate","slice","getMonth","getFullYear","key","checkHandler","name","surname","email","registration","src","deleteIcon","alt","title","AuthPage","password","form","setForm","loading","setLoading","error","clearError","changeAuth","setChangeAuth","updateTextFields","changleHandler","e","target","value","registerHandler","port","loginHandler","role","authorizationHandler","placeholder","htmlFor","disabled","Posts","posts","styles","articles_wrap","length","author","preview","date","genre","grades","rating","image","to","array","summ","reduce","acc","Math","round","avg","source","escapeHtml","converter","Showdown","tables","simplifiedAutoLink","strikethrough","tasklists","PersonalPage","React","setValue","selectedTab","setSelectedTab","newPostButton","setNewPostButton","inputData","setinputData","createNewArticleInputHandler","sendPost","createNewPostButton","newPost","user_id","makeHtml","changePostData","likes","newArticles","contentArticle","article","class","onTabChange","generateMarkdownPreview","markdown","Promise","resolve","userPosts","updated","memo","comment","setComment","location","pathname","split","pop","addLike","chapterId","chapter_number","sendComment","trim","commentData","post_id","headArticle","newComments","comments","single_post","newContent","open","openHandler","menu","single_post__chapter","content","users_likes","toString","commentary","userImage","write_comment","Navbar","theme","changeTheme","event","preventDefault","Footer","App","setToken","setUserId","setRole","setName","setSurname","jwtToken","setItem","removeItem","useAuth","setTheme","userThemeMode","useTheme","routes","path","exact","useRoutes","search","setSearch","searchHandler","params","pattern","query","Object","keys","k","encodeURIComponent","join","Provider","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","unregister","catch","jwtSecret","GOOGLE_CLIENT_ID","GOOGLE_CLIENT_SECRET"],"mappings":"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","file":"static/js/main.700b642d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"articles_wrap\":\"style_articles_wrap__3Ijrp\"};","module.exports = __webpack_public_path__ + \"static/media/user.363f8581.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"single_post__chapter\":\"style_single_post__chapter__3z-dr\",\"single_post\":\"style_single_post__3nEkR\",\"menu\":\"style_menu__1-mcp\",\"open\":\"style_open__3g2mE\",\"comment_header\":\"style_comment_header__1S142\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"articles_list__single\":\"style_articles_list__single__1Kylb\"};","import { useCallback } from \"react\";\r\n\r\nexport const useMessage = () => {\r\n  return useCallback((text) => {\r\n    if (window.M && text) {\r\n      window.M.toast({ html: text });\r\n    }\r\n  }, []);\r\n};\r\n","import { createContext } from \"react\";\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n  token: null,\r\n  userId: null,\r\n  login: noop,\r\n  logout: noop,\r\n  isAuthenticated: false,\r\n});\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport config from \"../../config/default\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useMessage } from \"../../hooks/message.hook\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport deleteIcon from \"../../images/criss-cross.png\";\r\n\r\nexport const CreatePage = () => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n  const message = useMessage();\r\n  const [error, setError] = useState(null);\r\n  const [data, setData] = useState(null);\r\n  const [checkAll, setCheckAll] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    async function fetchAPI() {\r\n      try {\r\n        const response = await fetch(config.baseUrl + \"/api/link\", {\r\n          method: \"GET\",\r\n          headers: {\r\n            authorization: userData\r\n              ? userData.token\r\n              : auth.token\r\n              ? auth.token\r\n              : \"\",\r\n          },\r\n        });\r\n\r\n        const users = await response.json();\r\n        setData(users.users);\r\n      } catch (e) {\r\n        setError(e.message);\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetchAPI();\r\n  }, []);\r\n\r\n  const deleteHandler = async (userId) => {\r\n    const deletedUsersList = { id: userId };\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    try {\r\n      let response = await fetch(config.baseUrl + \"/api/link/delete\", {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify(deletedUsersList),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: userData ? userData.token : \"\",\r\n        },\r\n      });\r\n      response = await response.json();\r\n      message(response.message);\r\n      const newData = data.filter(\r\n        (element) => !response.id.includes(element.id)\r\n      );\r\n\r\n      setData(newData);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const checkHandler = (index) => {\r\n    const newData = data.map((element, elementIndex) => {\r\n      if (elementIndex === index) {\r\n        return { ...element, checked: !element.checked };\r\n      }\r\n      return element;\r\n    });\r\n    setData(newData);\r\n  };\r\n\r\n  const checkAllUsers = () => {\r\n    setCheckAll(!checkAll);\r\n    const newData = data.map((element, elementIndex) => {\r\n      return { ...element, checked: !checkAll };\r\n    });\r\n    setData(newData);\r\n  };\r\n\r\n  const onBlockHandler = async (idsArray, status) => {\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    const myId = userData ? userData.userId : null;\r\n\r\n    try {\r\n      let response = await fetch(config.baseUrl + \"/api/link/block\", {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({ id: idsArray, status }),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: userData ? userData.token : \"\",\r\n        },\r\n      });\r\n      response = await response.json();\r\n      message(response.message);\r\n      const newData = data.map((element) => {\r\n        if (response.ids.includes(element.id)) {\r\n          return { ...element, status: response.status };\r\n        }\r\n        return element;\r\n      });\r\n\r\n      setData(newData);\r\n      console.log(status, \"status status\");\r\n      if (idsArray.includes(myId) && !!status === true) {\r\n        auth.logout();\r\n        history.push(\"/\");\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const checkboxBlockUsers = (status) => {\r\n    const users = data\r\n      .filter((element) => element.checked)\r\n      .map((element) => element.id);\r\n    onBlockHandler(users, status);\r\n  };\r\n\r\n  const deleteAllHandler = () => {\r\n    const users = data\r\n      .filter((element) => element.checked)\r\n      .map((element) => element.id);\r\n    deleteHandler(users);\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"nav-content margin\">\r\n        <ul className=\"tabs tabs-transparent\">\r\n          <li className=\"tab blue darken-4\">\r\n            <a\r\n              className=\"active\"\r\n              onClick={() => checkboxBlockUsers(1)}\r\n              href=\"#\"\r\n            >\r\n              Блокировать\r\n            </a>\r\n          </li>\r\n          <li className=\"tab green lighten-2\">\r\n            <a\r\n              className=\"active\"\r\n              onClick={() => checkboxBlockUsers(0)}\r\n              href=\"#\"\r\n            >\r\n              Разлокировать\r\n            </a>\r\n          </li>\r\n          <li className=\"tab red lighten-2\">\r\n            <a className=\"active\" onClick={deleteAllHandler} href=\"#\">\r\n              Удалить\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <table className=\"highlight centered responsive-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>\r\n              <label>\r\n                <input\r\n                  onChange={checkAllUsers}\r\n                  checked={checkAll}\r\n                  type=\"checkbox\"\r\n                />\r\n                <span></span>\r\n              </label>\r\n            </th>\r\n            <th>ID</th>\r\n            <th>Имя</th>\r\n            <th>Фамилия</th>\r\n            <th>Почта</th>\r\n            <th>Дата регистрации</th>\r\n            <th>Последний сеанс</th>\r\n            <th>Статус</th>\r\n            <th>Действие</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {data &&\r\n            data.map((element, index) => {\r\n              const d = new Date(element.last);\r\n              let datestring =\r\n                (\"0\" + d.getDate()).slice(-2) +\r\n                \"-\" +\r\n                (\"0\" + (d.getMonth() + 1)).slice(-2) +\r\n                \"-\" +\r\n                d.getFullYear() +\r\n                \" \";\r\n              return (\r\n                <tr key={element.id}>\r\n                  <td>\r\n                    <label>\r\n                      <input\r\n                        onChange={() => checkHandler(index)}\r\n                        type=\"checkbox\"\r\n                        checked={element.checked ? true : false}\r\n                      />\r\n                      <span></span>\r\n                    </label>\r\n                  </td>\r\n                  <td>{element.id}</td>\r\n                  <td>{element.name}</td>\r\n                  <td>{element.surname}</td>\r\n                  <td>{element.email}</td>\r\n                  <td>{element.registration}</td>\r\n                  <td>{datestring}</td>\r\n                  <td>{element.status ? \"Блокирован\" : \"Разблокирован\"}</td>\r\n                  <td>\r\n                    <div className=\"row\">\r\n                      <a\r\n                        href=\"#\"\r\n                        className=\"action-button\"\r\n                        onClick={() => deleteHandler([element.id])}\r\n                      >\r\n                        <img src={deleteIcon} alt=\"Удалить\" title=\"Удалить\" />\r\n                      </a>\r\n                      <a\r\n                        href=\"#\"\r\n                        className=\"action-button\"\r\n                        onClick={() =>\r\n                          onBlockHandler([element.id], !element.status)\r\n                        }\r\n                      >\r\n                        {element.status ? \"Разблокировать\" : \"Заблокировать\"}\r\n                      </a>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useCallback, useContext } from \"react\";\r\nimport config from \"../../config/default\";\r\nimport { useMessage } from \"../../hooks/message.hook\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const AuthPage = () => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n  const message = useMessage();\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\",\r\n    surname: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const clearError = useCallback(() => setError(null), []);\r\n  const [changeAuth, setChangeAuth] = useState(true);\r\n\r\n  useEffect(() => {\r\n    message(error);\r\n    clearError();\r\n  }, [error, clearError, message]);\r\n\r\n  useEffect(() => {\r\n    window.M.updateTextFields();\r\n  }, [changeAuth]);\r\n\r\n  const changleHandler = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const registerHandler = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(\r\n        \"http://localhost:\" + config.port + \"/api/auth/registration\",\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify(form),\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n        }\r\n      );\r\n      setLoading(false);\r\n      const data = await response.json();\r\n      message(data.message);\r\n    } catch (e) {\r\n      setLoading(false);\r\n      setError(e.message);\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const loginHandler = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(\r\n        \"http://localhost:\" + config.port + \"/api/auth/login\",\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify(form),\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n        }\r\n      );\r\n      setLoading(false);\r\n      const data = await response.json();\r\n      console.log(data, \"+++++++++++++++\");\r\n      auth.login(data.token, data.userId, data.role, data.name, data.surname);\r\n      history.push(\"/\");\r\n    } catch (e) {\r\n      setLoading(false);\r\n      setError(e.message);\r\n    }\r\n  };\r\n\r\n  const authorizationHandler = (value) => {\r\n    setChangeAuth(value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"row choose-menu center-align \">\r\n        <div\r\n          className=\"col s6 card blue darken-4 hoverable\"\r\n          onClick={() => authorizationHandler(true)}\r\n        >\r\n          <a href=\"#\" className=\"white-text\">\r\n            <span className=\"flow-text\">Авторизация</span>\r\n          </a>\r\n        </div>\r\n        <div\r\n          className=\"col s6 card yellow darken-4 hoverable\"\r\n          onClick={() => authorizationHandler(false)}\r\n        >\r\n          <span className=\"flow-text\">\r\n            <a href=\"#\" className=\"white-text\">\r\n              Регистрация\r\n            </a>\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {changeAuth && (\r\n        <div className=\"card blue darken-1\">\r\n          <div className=\"card-content white-text\">\r\n            <span className=\"card-title\">Авторизaция</span>\r\n            <div>\r\n              <div className=\"input-field\">\r\n                <input\r\n                  placeholder=\"Введите email\"\r\n                  id=\"email\"\r\n                  type=\"text\"\r\n                  name=\"email\"\r\n                  value={form.email}\r\n                  className=\"yellow-btn\"\r\n                  onChange={changleHandler}\r\n                />\r\n                <label htmlFor=\"email\">Почта</label>\r\n              </div>\r\n\r\n              <div className=\"input-field\">\r\n                <input\r\n                  placeholder=\"Введите пароль\"\r\n                  id=\"password\"\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={form.password}\r\n                  className=\"yellow-btn\"\r\n                  onChange={changleHandler}\r\n                />\r\n                <label htmlFor=\"password\">Пароль</label>\r\n              </div>\r\n\r\n              <div className=\"card-action\">\r\n                <a\r\n                  disabled={loading}\r\n                  onClick={loginHandler}\r\n                  className=\"btn yellow darken-4 waves-effect\"\r\n                >\r\n                  Войти\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {!changeAuth && (\r\n        <div className=\"card blue darken-1\">\r\n          <div className=\"card-content white-text\">\r\n            <span className=\"card-title\">Регистрация</span>\r\n            <div>\r\n              <div className=\"input-field\">\r\n                <input\r\n                  placeholder=\"Ваше имя\"\r\n                  id=\"name\"\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={form.name}\r\n                  className=\"yellow-btn\"\r\n                  onChange={changleHandler}\r\n                />\r\n                <label htmlFor=\"name\">Имя</label>\r\n              </div>\r\n              <div className=\"input-field\">\r\n                <input\r\n                  placeholder=\"Ваша фамилия\"\r\n                  id=\"surname\"\r\n                  type=\"text\"\r\n                  name=\"surname\"\r\n                  value={form.surname}\r\n                  className=\"yellow-btn\"\r\n                  onChange={changleHandler}\r\n                />\r\n                <label htmlFor=\"surname\">Фамилия</label>\r\n              </div>\r\n\r\n              <div className=\"input-field\">\r\n                <input\r\n                  placeholder=\"Введите email\"\r\n                  id=\"email\"\r\n                  type=\"text\"\r\n                  name=\"email\"\r\n                  value={form.email}\r\n                  className=\"yellow-btn\"\r\n                  onChange={changleHandler}\r\n                />\r\n                <label htmlFor=\"email\">Почта</label>\r\n              </div>\r\n\r\n              <div className=\"input-field\">\r\n                <input\r\n                  placeholder=\"Введите пароль\"\r\n                  id=\"password\"\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={form.password}\r\n                  className=\"yellow-btn\"\r\n                  onChange={changleHandler}\r\n                />\r\n                <label htmlFor=\"password\">Пароль</label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"card-action\">\r\n            <button\r\n              onClick={registerHandler}\r\n              disabled={loading}\r\n              className=\"btn grey lighten-2 black-text waves-effect\"\r\n            >\r\n              Регистрация\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport config from \"../../config/default\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { useMessage } from \"../../hooks/message.hook\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport ReactMarkdown from \"react-markdown/with-html\";\r\nimport styles from \"./style.module.scss\";\r\nimport { compareSync } from \"bcryptjs\";\r\n\r\nexport const Posts = () => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n  const message = useMessage();\r\n  const [error, setError] = useState(null);\r\n  const [data, setData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    async function fetchAPI() {\r\n      try {\r\n        const response = await fetch(config.baseUrl + \"/api/posts\", {\r\n          method: \"GET\",\r\n          headers: {\r\n            authorization: userData\r\n              ? userData.token\r\n              : auth.token\r\n              ? auth.token\r\n              : \"\",\r\n          },\r\n        });\r\n\r\n        const data = await response.json();\r\n        setData(data.posts);\r\n        console.log(data);\r\n      } catch (e) {\r\n        setError(e.message);\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetchAPI();\r\n  }, [setError, setData]);\r\n\r\n  const deleteHandler = async (userId) => {\r\n    const deletedUsersList = { id: userId };\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    try {\r\n      let response = await fetch(config.baseUrl + \"/api/link/delete\", {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify(deletedUsersList),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: userData ? userData.token : \"\",\r\n        },\r\n      });\r\n      response = await response.json();\r\n      message(response.message);\r\n      const newData = data.filter(\r\n        (element) => !response.id.includes(element.id)\r\n      );\r\n\r\n      setData(newData);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const avg = (grades) => {\r\n    const array = JSON.parse(grades);\r\n    if (array.length == 0) {\r\n      return \"Оцените этот пост первым!\";\r\n    }\r\n\r\n    const summ = array.reduce((acc, element) => {\r\n      return acc + element;\r\n    });\r\n    return Math.round((summ * 10) / array.length) / 10;\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <div className=\"row\">\r\n        <div className=\"col s3\">\r\n          <h3>Меню</h3>\r\n          <div>\r\n            <div>посты</div>\r\n            <div>пользователи</div>\r\n            <div>категории</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col s9\">\r\n          <h3>Статьи</h3>\r\n          <div className={styles.articles_wrap}>\r\n            {data &&\r\n              data.length &&\r\n              data.map(\r\n                ({\r\n                  title,\r\n                  author,\r\n                  id,\r\n                  preview,\r\n                  date,\r\n                  genre,\r\n                  rating,\r\n                  grades,\r\n                  image,\r\n                }) => (\r\n                  <article\r\n                    key={id}\r\n                    className=\"card card-panel lighten-2 hoverable\"\r\n                  >\r\n                    <div className=\"card-image waves-effect waves-block waves-light\">\r\n                      <img className=\"activator\" src={image} />\r\n                    </div>\r\n\r\n                    <div className=\"card-content\">\r\n                      <span className=\"card-title activator\">\r\n                        <Link className=\"light-blue-text\" to={`/posts/${id}`}>\r\n                          {title}\r\n                        </Link>\r\n                        <i className=\"material-icons right\">more_vert</i>\r\n                      </span>\r\n                    </div>\r\n\r\n                    <div>Автор: {author}</div>\r\n                    <div>Жанр: {genre}</div>\r\n                    <div>\r\n                      Теги:\r\n                      <div className=\"chip\">История</div>\r\n                    </div>\r\n                    <div>\r\n                      <Link to={\"/posts/\" + id + \"#rating\"}>Отзывы</Link>\r\n                    </div>\r\n                    <div>Ср рейт: {avg(grades)}</div>\r\n\r\n                    <div className=\"card-reveal\">\r\n                      <span className=\"card-title grey-text text-darken-4\">\r\n                        Краткое описание главы\r\n                        <i className=\"material-icons right\">close</i>\r\n                      </span>\r\n\r\n                      <ReactMarkdown source={preview} escapeHtml={false} />\r\n                    </div>\r\n\r\n                    <div>Дата: {date}</div>\r\n                    <div>\r\n                      <Link\r\n                        className=\"btn waves-effect waves-teal\"\r\n                        to={`/posts/${id}`}\r\n                      >\r\n                        Читать\r\n                      </Link>\r\n                    </div>\r\n                  </article>\r\n                )\r\n              )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport config from \"../../config/default\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { useMessage } from \"../../hooks/message.hook\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport deleteIcon from \"../../images/criss-cross.png\";\r\nimport ReactMde from \"react-mde\";\r\nimport * as Showdown from \"showdown\";\r\nimport ReactMarkdown from \"react-markdown/with-html\";\r\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\r\nimport styles from \"./style.module.scss\";\r\n\r\nconst input = \"# This is a header\\n\\nAnd this is a paragraph\";\r\nconst converter = new Showdown.Converter({\r\n  tables: true,\r\n  simplifiedAutoLink: true,\r\n  strikethrough: true,\r\n  tasklists: true,\r\n});\r\n\r\nexport const PersonalPage = () => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n  const message = useMessage();\r\n  const [error, setError] = useState(null);\r\n  const [checkAll, setCheckAll] = useState(false);\r\n  const [data, setData] = useState(null);\r\n  const [value, setValue] = React.useState(\"\");\r\n  const [selectedTab, setSelectedTab] = React.useState(\"write\");\r\n  const [newPostButton, setNewPostButton] = useState(false);\r\n  const [inputData, setinputData] = useState({});\r\n\r\n  useEffect(() => {\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    async function fetchAPI() {\r\n      try {\r\n        const id = auth.userId;\r\n        const response = await fetch(config.baseUrl + \"/api/link/user/\" + id, {\r\n          method: \"GET\",\r\n          headers: {\r\n            authorization: userData\r\n              ? userData.token\r\n              : auth.token\r\n              ? auth.token\r\n              : \"\",\r\n          },\r\n        });\r\n\r\n        const data = await response.json();\r\n        setData(data);\r\n        console.log(data);\r\n      } catch (e) {\r\n        setError(e.message);\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetchAPI();\r\n  }, [setError, setData]);\r\n\r\n  const deleteHandler = async (userId) => {\r\n    const deletedUsersList = { id: userId };\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    try {\r\n      let response = await fetch(config.baseUrl + \"/api/link/delete\", {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify(deletedUsersList),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: userData ? userData.token : \"\",\r\n        },\r\n      });\r\n      response = await response.json();\r\n      message(response.message);\r\n      const newData = data.filter(\r\n        (element) => !response.id.includes(element.id)\r\n      );\r\n\r\n      setData(newData);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const checkHandler = (index) => {\r\n    const newData = data.map((element, elementIndex) => {\r\n      if (elementIndex === index) {\r\n        return { ...element, checked: !element.checked };\r\n      }\r\n      return element;\r\n    });\r\n    setData(newData);\r\n  };\r\n\r\n  const checkAllUsers = () => {\r\n    setCheckAll(!checkAll);\r\n    const newData = data.map((element, elementIndex) => {\r\n      return { ...element, checked: !checkAll };\r\n    });\r\n    setData(newData);\r\n  };\r\n\r\n  const deleteAllHandler = () => {\r\n    const users = data\r\n      .filter((element) => element.checked)\r\n      .map((element) => element.id);\r\n    deleteHandler(users);\r\n  };\r\n\r\n  const createNewArticleInputHandler = (e) => {\r\n    setinputData({ ...inputData, [e.target.name]: e.target.value });\r\n    console.log(inputData);\r\n  };\r\n\r\n  const sendPost = async () => {\r\n    createNewPostButton(false);\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    const newPost = {\r\n      user_id: auth.userId,\r\n      title: inputData.title,\r\n      preview: inputData.preview ? inputData.preview : null,\r\n      genre: inputData.genre,\r\n      text: converter.makeHtml(value),\r\n    };\r\n    try {\r\n      const response = await fetch(\r\n        \"http://localhost:\" + config.port + \"/api/posts/add\",\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify(newPost),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            authorization: userData\r\n              ? userData.token\r\n              : auth.token\r\n              ? auth.token\r\n              : \"\",\r\n          },\r\n        }\r\n      );\r\n      // setLoading(false);\r\n      setValue(\"\");\r\n      const data = await response.json();\r\n      console.log(data);\r\n      // setData({ ...data, comments: newComments.data });\r\n      message(data.message);\r\n    } catch (e) {\r\n      // setLoading(false);\r\n      // setError(e.message);\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const createNewPostButton = () => {\r\n    if (newPostButton) {\r\n      return setNewPostButton(false);\r\n    }\r\n    return setNewPostButton(true);\r\n  };\r\n\r\n  const changePostData = async (id) => {\r\n    // setLoading(true);\r\n    try {\r\n      const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n      const response = await fetch(\r\n        \"http://localhost:\" + config.port + \"/api/posts/like\",\r\n        {\r\n          method: \"GET\",\r\n          body: JSON.stringify({\r\n            id: id,\r\n            userId: userData.userId,\r\n            // chapter_number: chapterId,\r\n          }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            authorization: userData\r\n              ? userData.token\r\n              : auth.token\r\n              ? auth.token\r\n              : \"\",\r\n          },\r\n        }\r\n      );\r\n\r\n      // setLoading(false);\r\n      const likes = await response.json();\r\n      console.log(likes);\r\n      const newArticles = data.contentArticle.map((element) => {\r\n        return element.id == id ? { ...element, ...likes.article } : element;\r\n      });\r\n      setData({ ...data, contentArticle: newArticles });\r\n      console.log(data);\r\n      message(likes.message);\r\n    } catch (e) {\r\n      // setLoading(false);\r\n      message(e.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div>\r\n        <h1>Профиль</h1>\r\n        {data && data.userData && (\r\n          <div>\r\n            <h3>{data.userData.name + \" \" + data.userData.surname}</h3>\r\n            <div>\r\n              <i className=\"material-icons\">perm_contact_calendar</i> Дата\r\n              регистрации: {data.userData.registration}\r\n            </div>\r\n            <div>\r\n              <i className=\"material-icons\">email</i> Почта:\r\n              {data.userData.email}\r\n            </div>\r\n          </div>\r\n        )}\r\n        <h5>Добавить пост</h5>\r\n        <a\r\n          class=\"btn-floating btn-large waves-effect waves-light red\"\r\n          onClick={createNewPostButton}\r\n        >\r\n          <i class=\"material-icons\">add</i>\r\n        </a>\r\n        {newPostButton && (\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Название Статьи\"\r\n              name=\"title\"\r\n              value={inputData.value}\r\n              onChange={createNewArticleInputHandler}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Превью статьи\"\r\n              name=\"preview\"\r\n              value={inputData.value}\r\n              onChange={createNewArticleInputHandler}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Выберите жанр\"\r\n              name=\"genre\"\r\n              value={inputData.value}\r\n              onChange={createNewArticleInputHandler}\r\n            />\r\n            <ReactMde\r\n              value={value}\r\n              onChange={setValue}\r\n              selectedTab={selectedTab}\r\n              onTabChange={setSelectedTab}\r\n              generateMarkdownPreview={(markdown) =>\r\n                Promise.resolve(converter.makeHtml(markdown))\r\n              }\r\n            />\r\n            {/* <ReactMarkdown source={value} escapeHtml={false} /> */}\r\n            <a class=\"waves-effect waves-light btn\" onClick={sendPost}>\r\n              <i class=\"material-icons left\">cloud</i>Сохранить\r\n            </a>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {data && data.userPosts && (\r\n        <>\r\n          <h2>Ваши посты:</h2>\r\n          <div className=\"nav-content margin\">\r\n            <ul className=\"tabs tabs-transparent\">\r\n              <li className=\"tab red lighten-2\">\r\n                <a className=\"active\" onClick={deleteAllHandler} href=\"#\">\r\n                  Удалить\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <table className=\"highlight centered responsive-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>\r\n                  <label>\r\n                    <input\r\n                      onChange={checkAllUsers}\r\n                      checked={checkAll}\r\n                      type=\"checkbox\"\r\n                    />\r\n                    <span></span>\r\n                  </label>\r\n                </th>\r\n                <th>Название статьи</th>\r\n                <th>Создана</th>\r\n                <th>Изменена</th>\r\n                <th>Жанр</th>\r\n                <th>Рейтинг</th>\r\n                <th>Действие</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {data.userPosts.map((element, index) => {\r\n                const d = new Date(element.date);\r\n                let datestring =\r\n                  (\"0\" + d.getDate()).slice(-2) +\r\n                  \"-\" +\r\n                  (\"0\" + (d.getMonth() + 1)).slice(-2) +\r\n                  \"-\" +\r\n                  d.getFullYear() +\r\n                  \" \";\r\n                return (\r\n                  <tr key={element.id}>\r\n                    <td>\r\n                      <label>\r\n                        <input\r\n                          onChange={() => checkHandler(index)}\r\n                          type=\"checkbox\"\r\n                          checked={element.checked ? true : false}\r\n                        />\r\n                        <span></span>\r\n                      </label>\r\n                    </td>\r\n                    <td>\r\n                      <Link to={`/posts/${element.id}`}>{element.title}</Link>\r\n                    </td>\r\n                    <td>{datestring}</td>\r\n                    <td>{element.updated}</td>\r\n                    <td>{element.genre}</td>\r\n                    <td>{element.rating}</td>\r\n\r\n                    <td>\r\n                      <div className=\"row\">\r\n                        <a\r\n                          href=\"#\"\r\n                          className=\"action-button\"\r\n                          onClick={() => deleteHandler([element.id])}\r\n                        >\r\n                          <img src={deleteIcon} alt=\"Удалить\" title=\"Удалить\" />\r\n                        </a>\r\n                        <a\r\n                          href=\"#\"\r\n                          className=\"action-button\"\r\n                          onClick={() => changePostData(element.id)}\r\n                        >\r\n                          Редактировать\r\n                        </a>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useContext, memo } from \"react\";\r\nimport config from \"../../config/default\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { useMessage } from \"../../hooks/message.hook\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport userImage from \"../../images/user.jpg\";\r\nimport ReactMarkdown from \"react-markdown/with-html\";\r\nimport styles from \"./style.module.scss\";\r\n\r\nconst SinglePost = () => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n  const message = useMessage();\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState(null);\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    async function fetchAPI() {\r\n      try {\r\n        const id = history.location.pathname.split(\"/\").pop();\r\n        const response = await fetch(config.baseUrl + \"/api/posts/\" + id, {\r\n          method: \"GET\",\r\n          headers: {\r\n            authorization: userData\r\n              ? userData.token\r\n              : auth.token\r\n              ? auth.token\r\n              : \"\",\r\n          },\r\n        });\r\n\r\n        const data = await response.json();\r\n        setData(data);\r\n        console.log(data);\r\n      } catch (e) {\r\n        setError(e.message);\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetchAPI();\r\n  }, [setError, setData]);\r\n\r\n  const deleteHandler = async (userId) => {\r\n    const deletedUsersList = { id: userId };\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    try {\r\n      let response = await fetch(config.baseUrl + \"/api/link/delete\", {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify(deletedUsersList),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: userData ? userData.token : \"\",\r\n        },\r\n      });\r\n      response = await response.json();\r\n      // message(response.message);\r\n      const newData = data.filter(\r\n        (element) => !response.id.includes(element.id)\r\n      );\r\n\r\n      setData(newData);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const avg = (grades) => {\r\n    const array = JSON.parse(grades);\r\n    if (array.length == 0) {\r\n      return \"Оцените этот пост первым!\";\r\n    }\r\n\r\n    const summ = array.reduce((acc, element) => {\r\n      return acc + element;\r\n    });\r\n    return Math.round((summ * 10) / array.length) / 10;\r\n  };\r\n\r\n  const addLike = async (id, chapterId) => {\r\n    setLoading(true);\r\n    try {\r\n      const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n      const response = await fetch(\r\n        \"http://localhost:\" + config.port + \"/api/posts/like\",\r\n        {\r\n          method: \"PUT\",\r\n          body: JSON.stringify({\r\n            id: id,\r\n            userId: userData.userId,\r\n            chapter_number: chapterId,\r\n          }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            authorization: userData\r\n              ? userData.token\r\n              : auth.token\r\n              ? auth.token\r\n              : \"\",\r\n          },\r\n        }\r\n      );\r\n\r\n      // setLoading(false);\r\n      const likes = await response.json();\r\n      console.log(likes);\r\n      const newArticles = data.contentArticle.map((element) => {\r\n        return element.id == id ? { ...element, ...likes.article } : element;\r\n      });\r\n      setData({ ...data, contentArticle: newArticles });\r\n      console.log(data);\r\n      message(likes.message);\r\n    } catch (e) {\r\n      // setLoading(false);\r\n      message(e.message);\r\n    }\r\n  };\r\n\r\n  const openHandler = (id) => {\r\n    const content = data.contentArticle;\r\n    const newContent = content.map((element) => {\r\n      return element.id === id ? { ...element, open: !element.open } : element;\r\n    });\r\n    setData({ ...data, contentArticle: newContent });\r\n  };\r\n\r\n  const sendComment = async () => {\r\n    const text = comment;\r\n    if (!text.trim()) {\r\n      return;\r\n    }\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    const commentData = {\r\n      name: auth.name,\r\n      surname: auth.surname,\r\n      post_id: data.headArticle.id,\r\n      user_id: auth.userId,\r\n      text: text,\r\n    };\r\n    try {\r\n      const response = await fetch(\r\n        \"http://localhost:\" + config.port + \"/api/posts/comment\",\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify(commentData),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            authorization: userData\r\n              ? userData.token\r\n              : auth.token\r\n              ? auth.token\r\n              : \"\",\r\n          },\r\n        }\r\n      );\r\n      setLoading(false);\r\n      setComment(\"\");\r\n      const newComments = await response.json();\r\n      setData({ ...data, comments: newComments.data });\r\n      message(data.message);\r\n    } catch (e) {\r\n      setLoading(false);\r\n      setError(e.message);\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const commentText = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n\r\n  const editHandler = (id) => {};\r\n  const moveUpHandler = (id) => {};\r\n  const moveDownHandler = (id) => {};\r\n\r\n  return (\r\n    <section className={styles.single_post}>\r\n      <div className=\"row\">\r\n        <div className=\"col s3\">\r\n          <h5>Меню</h5>\r\n          <div>\r\n            <div>посты</div>\r\n            <div>пользователи</div>\r\n            <div>категории</div>\r\n          </div>\r\n          <div>\r\n            <h5>Навигация</h5>\r\n            <ul>\r\n              {data &&\r\n                data.contentArticle.length !== 0 &&\r\n                data.contentArticle.map((element) => {\r\n                  return (\r\n                    <li>\r\n                      <a href={`#${element.id}`}>\r\n                        Глава {element.chapter_number}\r\n                      </a>\r\n                    </li>\r\n                  );\r\n                })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"col s9\">\r\n          {data && data.headArticle && (\r\n            <div>\r\n              <h1>{data.headArticle.title}</h1>\r\n\r\n              <div className=\"row s-p__main-image\">\r\n                <img\r\n                  src={data.headArticle.image}\r\n                  alt={data.headArticle.title}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Link to=\"#rating\" className=\"s-p__rating\">\r\n                  Рейтинг:\r\n                </Link>\r\n                <span> {avg(data.headArticle.grades)}</span>\r\n              </div>\r\n\r\n              <div className=\"black-text\">Автор: {data.headArticle.author}</div>\r\n\r\n              <blockquote>\r\n                <ReactMarkdown\r\n                  source={data.headArticle.preview}\r\n                  escapeHtml={false}\r\n                />\r\n              </blockquote>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"divider\"></div>\r\n          <div>\r\n            {data &&\r\n              data.contentArticle.length !== 0 &&\r\n              data.contentArticle.map((element) => (\r\n                <>\r\n                  <div>\r\n                    <button onClick={() => openHandler(element.id)}>...</button>\r\n                    <div\r\n                      className={`${styles.menu} ${\r\n                        element.open ? styles.open : \"\"\r\n                      }`}\r\n                    >\r\n                      <a\r\n                        className=\"waves-effect waves-light btn\"\r\n                        onClick={() => editHandler(element.id)}\r\n                      >\r\n                        <i className=\"material-icons left\">cloud</i>\r\n                        Редактировать\r\n                      </a>\r\n                      <a\r\n                        className=\"waves-effect waves-light btn\"\r\n                        onClick={() => moveUpHandler(element.id)}\r\n                      >\r\n                        <i className=\"material-icons left\">cloud</i>Выше\r\n                      </a>\r\n                      <a\r\n                        className=\"waves-effect waves-light btn\"\r\n                        onClick={() => moveDownHandler(element.id)}\r\n                      >\r\n                        <i className=\"material-icons left\">cloud</i>Ниже\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div id={element.id} className={styles.single_post__chapter}>\r\n                    <h2>Глава {element.chapter_number}</h2>\r\n                    {element.image && <img src={element.image} />}\r\n                    <div className=\"flow-text\">\r\n                      {\r\n                        <ReactMarkdown\r\n                          source={element.content}\r\n                          escapeHtml={false}\r\n                        />\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    {auth.userId && (\r\n                      <i\r\n                        className={`${\r\n                          element.users_likes\r\n                            .split(\",\")\r\n                            .includes(auth.userId.toString())\r\n                            ? \"red\"\r\n                            : \"\"\r\n                        } col s1 small material-icons`}\r\n                        onClick={() =>\r\n                          addLike(data.headArticle.id, element.chapter_number)\r\n                        }\r\n                      >\r\n                        thumb_up\r\n                      </i>\r\n                    )}\r\n\r\n                    {!auth.userId && (\r\n                      <i className=\"col s1 small material-icons\">thumb_up</i>\r\n                    )}\r\n\r\n                    <span>{element.likes}</span>\r\n                  </div>\r\n                </>\r\n              ))}\r\n\r\n            <div className={styles.commentary}>\r\n              <h3>Комментарии:</h3>\r\n              <ul className=\"collection\">\r\n                {data &&\r\n                  data.comments &&\r\n                  data.comments.map((element) => {\r\n                    return (\r\n                      <li className=\"collection-item avatar black-text\">\r\n                        <img src={userImage} alt=\"User\" className=\"circle\" />\r\n                        <span className=\"title\">\r\n                          {element.name + \" \" + element.surname}\r\n                        </span>\r\n                        <p>{element.date}</p>\r\n                        <p>{element.text}</p>\r\n                        <a href=\"#!\" className=\"secondary-content\">\r\n                          <i className=\"material-icons\">grade</i>\r\n                        </a>\r\n                      </li>\r\n                    );\r\n                  })}\r\n              </ul>\r\n              {auth.userId && (\r\n                <div className={styles.write_comment}>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Ваш комментарий\"\r\n                    onChange={commentText}\r\n                    value={comment}\r\n                  />\r\n                  <button onClick={sendComment}>Отправить</button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default memo(SinglePost);\r\n","import React, { useContext } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport config from \"../config/default\";\r\n\r\nexport const Navbar = ({ theme, changeTheme }) => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const logoutHandler = (event) => {\r\n    event.preventDefault();\r\n    auth.logout();\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wrapper blue darken-1\">\r\n        <Link to={\"/\"} className=\"brand-logo\">\r\n          Главная\r\n        </Link>\r\n\r\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n          <li>\r\n            <a href=\"http://localhost:4001/google\">Гугл</a>\r\n          </li>\r\n          <li>\r\n            <div className=\"switch\">\r\n              <label>\r\n                <span className=\"white-text\">Светлая</span>\r\n                <input checked={theme} onChange={changeTheme} type=\"checkbox\" />\r\n                <span className=\"lever\"></span>\r\n                <span className=\"white-text\">Темная</span>\r\n              </label>\r\n            </div>\r\n          </li>\r\n\r\n          {auth.name && (\r\n            <li>\r\n              <Link to={`/user/${auth.userId}`}>Привет, {auth.name}</Link>\r\n            </li>\r\n          )}\r\n          <li>\r\n            <Link\r\n              to=\"/auth\"\r\n              onClick={auth.isAuthenticated ? logoutHandler : null}\r\n            >\r\n              {auth.isAuthenticated ? \"Выйти\" : \"Войти\"}\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport config from \"../config/default\";\r\n\r\nexport const Footer = () => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const logoutHandler = (event) => {\r\n    event.preventDefault();\r\n    auth.logout();\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <footer className=\"page-footer\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col l6 s12\">\r\n            <div className=\"white-text\">Фанфики</div>\r\n            <p className=\"grey-text text-lighten-4\">\r\n              Читайте топовые фанфики в нашем приложении.\r\n            </p>\r\n          </div>\r\n          <div className=\"col l4 offset-l2 s12\">\r\n            <div className=\"white-text\">Links</div>\r\n            <ul>\r\n              <li>\r\n                <Link className=\"grey-text text-lighten-3\" to=\"/\">\r\n                  Статьи\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link className=\"grey-text text-lighten-3\" to=\"/create\">\r\n                  Пользователи\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"footer-copyright\">\r\n        <div className=\"container\">\r\n          © 2020 Copyright Text\r\n          <a\r\n            className=\"grey-text text-lighten-4 right\"\r\n            href=\"https://vk.com/id28938522\"\r\n          >\r\n            Создание приложений\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport config from \"./config/default\";\nimport { useRoutes } from \"./routes\";\nimport { useAuth } from \"./hooks/auth.hook\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport { Navbar } from \"./components/Navbar\";\nimport { Footer } from \"./components/Footer\";\nimport { useTheme } from \"./hooks/theme.hook\";\nimport \"materialize-css\";\n\nfunction App() {\n  const { login, logout, token, userId, role, name, surname } = useAuth();\n  const { theme, changeTheme } = useTheme();\n  const [error, setError] = useState(null);\n  const isAuthenticated = !!token;\n  const routes = useRoutes(isAuthenticated, role);\n  const [search, setSearch] = useState(null);\n  const userData = JSON.parse(localStorage.getItem(\"userData\"));\n\n  const searchHandler = async (e) => {\n    const params = { pattern: e.target.value };\n    let query = Object.keys(params)\n      .map((k) => encodeURIComponent(k) + \"=\" + encodeURIComponent(params[k]))\n      .join(\"&\");\n    try {\n      const response = await fetch(\n        config.baseUrl + \"/api/posts/search?\" + query,\n        {\n          method: \"GET\",\n          headers: {\n            authorization: userData ? userData.token : token ? token : \"\",\n          },\n        }\n      );\n\n      const data = await response.json();\n      setSearch(data);\n    } catch (e) {\n      setError(e.message);\n      console.log(e);\n    }\n  };\n\n  return (\n    <div className={theme ? \"black white-text\" : \"\"}>\n      <AuthContext.Provider\n        value={{ login, logout, token, userId, isAuthenticated, name, surname }}\n      >\n        <Navbar changeTheme={changeTheme} theme={theme}></Navbar>\n        <div className=\"row\">\n          <div className=\"col s10 offset-s1\">\n            <input type=\"text\" placeholder=\"Поиск\" onChange={searchHandler} />\n            {search && search.posts.length\n              ? search.posts.map((element) => {\n                  return (\n                    <div>\n                      <div className=\"section\">\n                        <h5>\n                          <Link to={`/posts/${element.id}`}>\n                            {element.title}\n                          </Link>\n                        </h5>\n                        <p>Stuff</p>\n                      </div>\n                      <div className=\"divider\"></div>\n                    </div>\n                  );\n                })\n              : \"Ничего не нашлось\"}\n          </div>\n        </div>\n        <div className=\"container\">{routes}</div>\n        <Footer />\n      </AuthContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import { useState, useCallback, useEffect } from \"react\";\r\n\r\nconst storageName = \"userData\";\r\n\r\nexport const useAuth = () => {\r\n  const [token, setToken] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n  const [role, setRole] = useState(null);\r\n  const [name, setName] = useState(null);\r\n  const [surname, setSurname] = useState(null);\r\n\r\n  const login = useCallback((jwtToken, id, role, name, surname) => {\r\n    setToken(jwtToken);\r\n    setUserId(id);\r\n    setRole(role);\r\n    setName(name);\r\n    setSurname(surname);\r\n\r\n    localStorage.setItem(\r\n      storageName,\r\n      JSON.stringify({\r\n        userId: id,\r\n        token: jwtToken,\r\n        role: role,\r\n        name: name,\r\n        surname: surname,\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setUserId(null);\r\n    setRole(null);\r\n    setName(null);\r\n    setSurname(null);\r\n\r\n    localStorage.removeItem(storageName);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(localStorage.getItem(storageName));\r\n\r\n    if (data && data.token) {\r\n      login(data.token, data.userId, data.role, data.name, data.surname);\r\n    }\r\n  }, [login]);\r\n\r\n  return { login, logout, role, token, userId, name, surname };\r\n};\r\n","import { useState, useCallback, useEffect } from \"react\";\r\n\r\nconst userTheme = \"userTheme\";\r\n\r\nexport const useTheme = () => {\r\n  const [theme, setTheme] = useState(false);\r\n\r\n  const changeTheme = useCallback(() => {\r\n    localStorage.setItem(userTheme, JSON.stringify({ theme: !theme }));\r\n    setTheme(!theme);\r\n  }, [theme, setTheme]);\r\n\r\n  useEffect(() => {\r\n    const userThemeMode = JSON.parse(localStorage.getItem(userTheme));\r\n    const data = userThemeMode ? userThemeMode.theme : false;\r\n    setTheme(data);\r\n  }, [setTheme]);\r\n\r\n  return { theme, changeTheme };\r\n};\r\n","import React from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { CreatePage } from \"./pages/CreatePage\";\r\nimport { AuthPage } from \"./pages/AuthPage\";\r\nimport { Posts } from \"./pages/Posts\";\r\nimport { PersonalPage } from \"./pages/PersonalPage\";\r\nimport SinglePost from \"./pages/SinglePost\";\r\n\r\nexport const useRoutes = (isAuthenticated, role) => {\r\n  console.log(isAuthenticated, role);\r\n  // if (isAuthenticated && role === \"admin\") {\r\n  //   return (\r\n  //     <Switch>\r\n  //       <Route path=\"/create\" exact>\r\n  //         <CreatePage />\r\n  //       </Route>\r\n  //       <Route path=\"/posts\" exact>\r\n  //         <Posts />\r\n  //       </Route>\r\n  //     </Switch>\r\n  //   );\r\n  // }\r\n\r\n  if (isAuthenticated) {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/create\" exact>\r\n          <CreatePage />\r\n        </Route>\r\n        <Route path=\"/user/:id\" exact>\r\n          <PersonalPage />\r\n        </Route>\r\n        <Route path=\"/posts\" exact>\r\n          <Posts />\r\n        </Route>\r\n        <Route path=\"/posts/:id\" exact>\r\n          <SinglePost />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Posts />\r\n        </Route>\r\n      </Switch>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/auth\">\r\n        <AuthPage />\r\n      </Route>\r\n      <Route path=\"/posts/:id\" exact>\r\n        <SinglePost />\r\n      </Route>\r\n      <Route path=\"/\">\r\n        <Posts />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\"","module.exports = {\r\n  port: 4001,\r\n  jwtSecret: \"itransition\",\r\n  baseUrl: \"http://localhost:4001\",\r\n  GOOGLE_CLIENT_ID: \"AIzaSyAEc8QS8yAGvdiueDSEJrqT6zeDgBQSO1g\",\r\n  GOOGLE_CLIENT_SECRET: \"secret\",\r\n  // baseUrl: \"0.0.0.0\",\r\n};\r\n"],"sourceRoot":""}